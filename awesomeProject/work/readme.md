# 分为3层

## 解析json文件并发送

模拟1s发送两个

## 接收struct并且放入相关餐架

扩充struct：{原有内容，value，start second}

使用优先队列，优先级以计算出来的到期时间为准

### 移入餐架

使用4个优先级队列

1. 判断是那个环境的订单
2. 判断是否能够接纳
3. 能够，结束。不能，转4
4. 移入overflow，判断overflow能否接纳
5. 能够，结束。不能，转6
6. 相应环境订单是否能够接纳，能够，转7。不能，抛弃。
7. 重新计算订单价值以及订单结束时间

## 重新计算订单价值逻辑

订单 value = 1 - o*(1 + d * sh * decay) / s订单随着时间推移价值减少，到期时间也就是价值为0时的时间。

在over到正餐餐价的流程中，计算出移动时当前订单的价值并更新开始时间以更新o就可以得到新的到期时间。

相当于 value = 1 - v1 - o*(1 + d * sh * decay) / s -> value(新) - o * (1 + d * sh * decay) / s = 0

## 取餐

## 移出餐架

1. 使用随机数来确认哪个餐架移出订单
2. 每隔2-6秒去移入channel一个，并计算是否到期以及value值

# 使用

安装go环境

将json文件放在包所在的文件夹下。

运行``` go run *.go```